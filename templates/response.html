<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Proxy web interface</title>
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link href="/static/styles.css" rel="stylesheet">
</head>

<body>
    <button onclick="document.location='/'">To home</button>
    <button onclick="history.go(-1)">To request</button><br>
    <p id="container" class="switch-container">
        <span class="">RAW</span>
        <span id="switch" class="m-10 switch-btn"></span>
        <span class="hidden">RENDER</span>
    </p>
    <div class="m-10">
        <div id="headers" class="headers">
            {% for header in headers %}
                {{ header }}<br>
            {% endfor %}
        </div>
        <div id="response" class="response">
            {% for string in response %}
                {{ string }}<br>
            {% endfor %}
        </div>
    </div>
</body>

<script>
    const container = document.getElementById('container');
    const switchButton = document.getElementById('switch');
    const response = document.getElementById('response');
    const headers = document.getElementById('headers');
    const responseText = response.innerText;
    switchButton.addEventListener('click', () => {
        if (switchButton.classList.contains("switch-on")) {
            switchButton.classList.remove("switch-on");
            container.firstElementChild.classList.remove("hidden");
            container.lastElementChild.classList.add("hidden");
            response.innerText = responseText;
        } else {
            switchButton.classList.add("switch-on");
            container.firstElementChild.classList.add("hidden");
            container.lastElementChild.classList.remove("hidden");
            response.innerHTML = responseText;
        }
    });
</script>

</html>